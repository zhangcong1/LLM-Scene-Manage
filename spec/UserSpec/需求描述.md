# 大模型应用场景管理系统

## 一、 系统概述
该系统基于多模态大模型通过提示词描述，分析图片，来实现某种行为识别，结构化分析，该系统主要对应用场景进行积累，以供其他用户参考或场景分析技术性评估。

## 二、 用户体系与权限架构
1. 角色定义
游客（未登录）：仅可查看“首页”和“发现页”已固化的场景列表，不可查看提示词，无权进行验证、创建和下载。点击其他菜单自动跳转至登录页。
普通用户：具备场景检索、场景创建、保存草稿、提示词优化、大模型验证、固化申请、导出申请权限。
管理员：具备系统所有权限，包括大模型资源配置、SystemPrompt维护、固化审批、导出审批、用户管理（添加/删除）。

2. 账号初始化
 * 管理员账号： admin / admin123
 * 普通账号： test / test123
 * 账号来源： 支持用户注册、管理员手动添加、域账号配置。

## 三、 核心功能模块

### 1. 大模型配置 (管理员)
 * 资源接入： 支持添加本地或第三方大模型资源，必须符合 OpenAI 协议接口。
 * 参数配置： 包括模型名称、API Base URL、API Key、模型标识（Model ID）。
 * SystemPrompt 管理： 管理员为每个模型预设系统提示词。该内容对普通用户不可见，在验证测试时，系统自动将 SystemPrompt + UserPrompt 发送至模型。
 * 提示词模板： 维护“一键优化”所参照的基准模板，针对不同模型可关联不同的优化策略。

### 2. 场景创建与验证 (核心)
 * 基础信息： 填写场景名称、场景描述、标签、上传缩略图（若未上传则默认选取验证集首图）。
 * 提示词编辑：
   * UserPrompt： 用户输入的业务逻辑提示词。
   * 一键优化： 基于管理员配置的模板，调用大模型对 UserPrompt 进行润色优化。优化后支持弹窗对比，由用户决定“使用”、“取消”或“重新优化”。
 * 多模态验证：
   * 支持批量上传图片（单次 50 张以内）。
   * 逻辑： 调取选定模型的 SystemPrompt + UserPrompt 进行图片分析。
   * 结果自定义： 用户点击对应图片，可实时查看该图的分析结果。
 * 人工标注： 用户对分析结果进行“准确/不准确”标注，系统实时计算准确率。
 * 草稿保存： 创建中的场景可随时保存至“我的场景”草稿箱。

### 3. 场景管理与发现
 * 发现页 (公海)： 展示已固化的场景。
   * 脱敏处理： 游客和普通用户仅能看到场景描述和准确率，无法看到提示词字段。只有管理员可见。
   * 检索过滤： 支持按名称、标签、描述模糊检索，支持按素材数量、准确率排序。
 * 场景详情： 展示准确率、评论、相关场景（基于复制或相似度推荐）。
 * 相关场景： 支持点击跳转，无 404 错误。

### 4. 审批与导出
 * 固化审批： 用户提交申请后，管理员在控制台审批。审批通过后，场景由“私有”转为“公共已固化”。
 * 场景导出：
   * 用户发起导出申请（选择已固化场景）。
   * 管理员审批通过后，用户可下载 JSON 格式 文件。
   * 导出内容：场景名称、描述、UserPrompt、标签、准确率、素材数量。

### 5. 用户中心
 * 个人设置： 更换头像（需持久化存储）、修改密码。
 * 消息通知： * 评论消息：点击直接跳转至该场景评论区。
   * 审批消息：管理员点击直接跳转至待审批页面。

## 四、 界面布局风格
### 1. 视觉风格
 * AI 元素： 界面采用科技感色彩方案，增加人工智能元素动效。
 * 主题切换： 支持白天（Light）/ 暗夜（Dark）模式切换。
 * 整体布局： 门户网站风格，采用顶部导航 Tab 切换。

### 2. 导航入口
 * 首页： 系统介绍、功能入口、热门场景（点击量排行）。
 * 发现： 场景公海检索。
 * 我的场景： 用户个人作品集（含草稿、审核中、已发布）。
 * 收藏： 用户关注的场景列表。
 * 管理控制台 (管理员可见)： 模型配置、提示词模板、用户管理、审批列表。

## 五、 技术方案与部署规范
### 1. 数据库配置
 * 数据库名： llm_scenario_db
 * 用户名： root
 * 密码： ZCzc19970409.
 * 连接 URL： mysql://root:ZCzc19970409.@localhost:3306/llm_scenario_db
 * 特性： 支持自动初始化表结构，无需手动配置环境变量。

### 2. 部署模式
 * Docker 集成： 将 MySQL 与管理系统应用打包在同一个 Docker 容器/ Compose 中。
 * 持久化： 确保图片素材、头像、数据库数据在容器重启后不丢失。

### 3. 安全与认证
 * JWT 验证： 使用 7ujmko0abc@12345 作为密钥。
 * 登录拦截： 未登录用户操作创建/编辑功能时，强制重定向至登录页。

## 六、 交付物要求
 * 交付文件： 包含部署文档、数据库配置流程说明。
 * 重点说明： 如何在不手动配置环境的情况下通过 Docker 实现一键部署与数据库自动初始化。
